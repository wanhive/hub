###############################################################################
#Configuration file for Wanhive Hub                                          ##
#These characters start a comment:  '#' ';'                                  ##
#Only ASCII printable characters are supported                               ##
#The maximum line length is 255 characters                                   ##
#The maximum section length is 63 characters (excluding the braces)          ##
#Section name can include [A-Za-z0-9]                                        ##
#The maximum key length is 31 characters                                     ##
#The maximum value length is 223 characters                                  ##
#Multiline entries not supported                                             ##
#Supported data types: Unsigned integer, Double, String, Boolean             ##
###############################################################################

[PATHS]
#Define all the macros under this section
BASEDIR = ~/.config/wanhive

[OPT]
#Define optional/experimental features under this section
#Mask sensitive data in message logs (default: true)
#redact = false

[KEYS]
#Private key for authentication
#private = $BASEDIR/keys/hk.pem
#Public key for authentication
#public = $BASEDIR/keys/pk.pem
#Enable host verification (not required if SSL/TLS is enabled)
#verify = TRUE

[SSL]
#Enable or disable SSL/TLS
#enable = TRUE
#Trusted certificates (PEM format)
#trust = $BASEDIR/ssl/rootCA.crt
#SERVER: The certificate file (PEM format)
#certificate = $BASEDIR/ssl/wh.crt
#SERVER: The private key file (PEM format)
#key = $BASEDIR/ssl/wh.key

[HOSTS]
#SQLite3 database of the known hosts
#hostsDB = $BASEDIR/hosts.db
#A text file containing the list of the known hosts
hostsFile = $BASEDIR/hosts

[BOOTSTRAP]
#A text file containing the list of stable overlay hub identifiers
nodes = $BASEDIR/nodes
#A text file containing the list of stable authentication hub identifiers
auths = $BASEDIR/auths

[HUB]
#Listen for incoming connections
listen = YES
#Listener Backlog
backlog = 2
#Listener will bind to this address
#name = /home/user/wh0uds
#Options: unix/inet, defaults to inet
#type = unix
#The maximum number of IO events in an event loop
events = 32
#Initial expiration of the internal timer in milliseconds (0 = disable)
expiration = 100
#Periodic expiration of the internal timer in milliseconds
interval = 2000
#Event notifier acts like a semaphore (default: 8-byte counter)
#semaphore = YES
#Enable synchronous signal handling (if in doubt, keep disabled)
#signal = YES
#The maximum number of connections
connections = 32
#The maximum number of messages
messages = 4096
#The maximum number of new/temporary connections
guests = 4
#New/temporary connections timeout in milliseconds
lease = 2000
#The maximum number of messages to read from each connection in an event loop
input = 16
#The maximum number of outgoing messages in a connection's queue (0 = no limit)
#output = 32
#Rate limiting of incoming traffic
throttle = YES
#Reserved Messages count (for internal use)
#reserved = 8
#Congestion control
policing = YES
#Message TTL (time to live)
TTL = 128
#Capacity reservation ratios (Constraint: 2 * answer + forward <= 1)
#answer = 0.15
#forward = 0.70
#Logging level (DEBUG=7;INFO=6;NOTICE=5;WARNING=4;ERROR=3;CRITICAL=2;ALERT=1;EMERGENCY=0)
#logging = 7

[OVERLAY]
#Allow registration
enroll = YES
#Authenticate clients
#authenticate = YES
#Join an overlay network
#join = YES
#Period of stabilization cycle (milliseconds)
#period = 2000
#Blocking I/O timeout (milliseconds)
#timeout = 3000
#Waiting period after stabilization error (milliseconds)
#pause = 5000
#Netmask for the domain based access control
#netmask = 0xfffffffffffffc00
#Group identifier
#group = 0

[RDBMS]
#PostgreSQL parameters of the form <keyword=value>
#REF: https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-PARAMKEYWORDS
#user = postgres
#dbname = postgres

[AUTH]
#PostgreSQL parameter settings separated by whitespace, or URI
#database = user=postgres dbname=postgres
#Accept UID as the query parameter and return the tuple (UID, SALT, VERIFIER, TYPE)
#query = select uid,salt,verifier,type from wh_thing where uid=$1 and domainuid in (select wh_domain.uid from wh_domain,wh_user where wh_user.uid=wh_domain.useruid and wh_user.status=1)
#Obfuscate the failed identification requests
#salt = auth

[CLIENT]
#Clear text password for authentication
#password = password123
#Password hashing rounds, recommended value: [5000-500000]
#rounds = 1
#Communication timeout during bootstrapping (milliseconds)
#timeout = 3500
#Waiting period after connection failure (milliseconds)
#pause = 5500

###############################################################################
#Configurations for the extensions follow:                                   ##
###############################################################################
