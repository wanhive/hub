###############################################################################
#Configuration file for Wanhive Hub                                          ##
#These characters start a comment:  '#' ';'                                  ##
#Only ASCII printable characters are supported                               ##
#The maximum line length is 255 characters                                   ##
#The maximum section length is 63 characters (excluding the braces)          ##
#Section name can include [A-Za-z0-9]                                        ##
#The maximum key length is 31 characters                                     ##
#The maximum value length is 223 characters                                  ##
#Entries cannot span multiple lines                                          ##
#Supported data types: Unsigned integer; Double; String; Boolean             ##
###############################################################################

[PATHS]
#Macro declarations
BASEDIR = ~/.config/wanhive

[OPT]
#Experimental features
#Mask sensitive data in log messages (default: true)
#redact = false

[KEYS]
#Private key for authentication (PEM format)
#private = $BASEDIR/keys/hk.pem
#Public key for authentication (PEM format)
#public = $BASEDIR/keys/pk.pem
#Enable host verification (not required if SSL/TLS is enabled)
#verify = TRUE

[SSL]
#Enable or disable SSL/TLS
#enable = TRUE
#Trusted certificates (PEM format)
#trust = $BASEDIR/ssl/rootCA.crt
#SERVER: The certificate file (PEM format)
#certificate = $BASEDIR/ssl/wh.crt
#SERVER: The private key file (PEM format)
#key = $BASEDIR/ssl/wh.key

[HOSTS]
#database of known hosts
#database = $BASEDIR/hosts.db
#Tab-delimited text file of known hosts
file = $BASEDIR/hosts

[BOOTSTRAP]
#A text file containing the list of stable overlay hub identifiers
nodes = $BASEDIR/nodes
#A text file containing the list of stable authentication hub identifiers
auths = $BASEDIR/auths

[HUB]
#Listen for incoming connections
listen = YES
#Listener Backlog
backlog = 2
#Listener will bind to this address
#name = /home/user/wh0uds
#Options: unix/inet, defaults to inet
#type = unix
#The maximum number of IO events in an event loop
events = 32
#Initial expiration of the internal timer in milliseconds (0 = disable)
#expiration = 100
#Periodic expiration of the internal timer in milliseconds
#interval = 2000
#Event notifier acts like a semaphore (default: 8-byte counter)
#semaphore = YES
#Enable synchronous signal handling (if in doubt, keep disabled)
#signal = YES
#The maximum number of connections
connections = 32
#The maximum number of messages
messages = 4096
#The maximum number of anonymous (unverified) connections
guests = 4
#Anonymous connections timeout in milliseconds
lease = 2000
#The maximum number of messages an event loop can read from each connection
inward = 16
#The maximum number of outgoing messages allowed in a connection's queue (0 = no limit)
#outward = 32
#Traffic shaping and policing
regulate = YES
#Reserved messages for internal use
#reserved = 8
#Message TTL (time to live)
TTL = 128
#Capacity reservation ratios (Constraint: 2 * answer + forward <= 1)
#answer = 0.15
#forward = 0.70
#Logging level (DEBUG=7;INFO=6;NOTICE=5;WARNING=4;ERROR=3;CRITICAL=2;ALERT=1;EMERGENCY=0)
#logging = 7

[OVERLAY]
#Allow registration
enroll = YES
#Allow client authentication
#authenticate = YES
#Join an overlay network
#join = YES
#Stabilization cycle period (milliseconds)
#period = 2000
#Blocking I/O timeout (milliseconds)
#timeout = 3000
#Time to wait after stabilization error (milliseconds)
#pause = 5000
#Netmask for the domain based access control
#netmask = 0xfffffffffffffc00
#Group identifier
#group = 0

[RDBMS]
#PostgreSQL connection parameters
#REF: https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-PARAMKEYWORDS
#user = postgres
#dbname = postgres

[AUTH]
#PostgreSQL connection parameter string
#database = user=postgres dbname=postgres
#Accept UID as the query parameter and return the tuple (UID, SALT, VERIFIER, TYPE)
#query = select uid,salt,verifier,type from wh_thing where uid=$1 and domainuid in (select wh_domain.uid from wh_domain,wh_user where wh_user.uid=wh_domain.useruid and wh_user.status=1)
#Obfuscate the failed identification requests
#seed = auth

[CLIENT]
#Clear text password
#password = password123
#Password hashing rounds, recommended value: [5000-500000]
#rounds = 1
#Communication timeout during bootstrapping (milliseconds)
#timeout = 3500
#Time to wait after connection failure (milliseconds)
#pause = 5500

###############################################################################
#Configurations for the extensions follow:                                   ##
###############################################################################
